// Test frame budget API for game engines
// This demonstrates allocating many objects across frames

type Entity = object {
  id: int;
  x: float;
};

fn main() {
  // Allocate many entities across multiple frames
  for frame in 0..<10 {
    // Allocate 100 entities per frame
    for i in 0..<100 {
      let entity = new[Entity]( id: i, x: float(i) );
      discard entity.id; // Use it
    }
  }

  print("Complete");
}
